(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[0],{

/***/ "./src/js/view/searchView.js":
/*!***********************************!*\
  !*** ./src/js/view/searchView.js ***!
  \***********************************/
/*! exports provided: getInput, clearInput, renderLoader, hideLoader, renderResults */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getInput\", function() { return getInput; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearInput\", function() { return clearInput; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderLoader\", function() { return renderLoader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideLoader\", function() { return hideLoader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderResults\", function() { return renderResults; });\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"./src/js/view/base.js\");\nvar _this = undefined;\n\n\nvar getInput = function getInput() {\n  return _base__WEBPACK_IMPORTED_MODULE_0__[\"DOM\"].searchInput.value;\n};\nvar clearInput = function clearInput() {\n  return _base__WEBPACK_IMPORTED_MODULE_0__[\"DOM\"].searchInput.value = '';\n};\nvar renderLoader = _base__WEBPACK_IMPORTED_MODULE_0__[\"renderLoader\"];\nvar hideLoader = _base__WEBPACK_IMPORTED_MODULE_0__[\"hideLoader\"]; //--------------------\\/--------------------\n\nvar renderResults = function renderResults(recipes) {\n  var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var resPerPage = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n  clearList();\n  var start = (page - 1) * resPerPage;\n  var end = page * resPerPage;\n  recipes.slice(start, end).forEach(renderRecipe);\n  if (recipes.length > resPerPage) renderButtons(page, recipes, resPerPage);\n};\n\nvar clearList = function clearList() {\n  _base__WEBPACK_IMPORTED_MODULE_0__[\"DOM\"].recipeList.innerHTML = '';\n  _base__WEBPACK_IMPORTED_MODULE_0__[\"DOM\"].recipeControl.innerHTML = '';\n};\n\nvar renderButtons = function renderButtons(page, recipes, resPerPage) {\n  var pages = Math.ceil(recipes.length / resPerPage);\n  var buttons = [];\n\n  if (page === 1) {\n    buttons.push(createButton(page + 1, 'next'));\n    buttons[0].addEventListener('click', renderResults.bind(_this, recipes, page + 1, resPerPage));\n  } else if (page === pages) {\n    buttons.push(createButton(page - 1, 'prev'));\n    buttons[0].addEventListener('click', renderResults.bind(_this, recipes, page - 1, resPerPage));\n  } else {\n    buttons.push(createButton(page + 1, 'next'));\n    buttons[0].addEventListener('click', renderResults.bind(_this, recipes, page + 1, resPerPage));\n    buttons.push(createButton(page - 1, 'prev'));\n    buttons[1].addEventListener('click', renderResults.bind(_this, recipes, page - 1, resPerPage));\n  }\n\n  buttons.forEach(function (elm) {\n    _base__WEBPACK_IMPORTED_MODULE_0__[\"DOM\"].recipeControl.insertAdjacentElement('beforeend', elm);\n  });\n};\n\nvar createButton = function createButton(page, type) {\n  var button = document.createElement('button');\n  button.className = \"btn-inline results__btn--\".concat(type);\n  button.innerHTML = \"\\n  <svg class=\\\"search__icon\\\">\\n    <use href=\\\"img/icons.svg#icon-triangle-\".concat(type === 'next' ? 'right' : 'left', \"\\\"></use>\\n  </svg>\\n  <span>Page \").concat(page, \"</span>\\n  \");\n  return button;\n};\n\nvar renderRecipe = function renderRecipe(recipe) {\n  var newElement = document.createElement('li');\n  newElement.innerHTML = \"\\n  <a class=\\\"results__link\\\" href=\\\"\".concat(recipe.recipe_id, \"\\\">\\n    <figure class=\\\"results__fig\\\">\\n      <img src=\\\"\").concat(recipe.image_url, \"\\\" alt=\\\"Recipe image\\\">\\n    </figure>\\n    <div class=\\\"results__data\\\">\\n      <h4 class=\\\"results__name\\\">\").concat(limitRecipeTitle(recipe.title), \"</h4>\\n      <p class=\\\"results__author\\\">\").concat(recipe.publisher, \"</p>\\n    </div>\\n  </a>\");\n  _base__WEBPACK_IMPORTED_MODULE_0__[\"DOM\"].recipeList.append(newElement);\n};\n\nvar limitRecipeTitle = function limitRecipeTitle(title) {\n  var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 17;\n  var shortTitle = [];\n  if (title.length <= limit) return title;\n  title.split(' ').reduce(function (pre, cur) {\n    if (pre.length + cur.length < 17) {\n      shortTitle.push(cur);\n      return pre + cur;\n    }\n\n    return pre;\n  }, '');\n  return shortTitle.join(' ').concat('...');\n}; //--------------------/\\--------------------//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdmlldy9zZWFyY2hWaWV3LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3ZpZXcvc2VhcmNoVmlldy5qcz9kN2E3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERPTSwgcmVuZGVyTG9hZGVyIGFzIF9yZW5kZXJMb2FkZXIsIGhpZGVMb2FkZXIgYXMgX2hpZGVMb2FkZXIgfSBmcm9tICcuL2Jhc2UnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldElucHV0ID0gKCkgPT4gRE9NLnNlYXJjaElucHV0LnZhbHVlO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNsZWFySW5wdXQgPSAoKSA9PiBET00uc2VhcmNoSW5wdXQudmFsdWUgPSAnJztcclxuXHJcbmV4cG9ydCBjb25zdCByZW5kZXJMb2FkZXIgPSBfcmVuZGVyTG9hZGVyO1xyXG5leHBvcnQgY29uc3QgaGlkZUxvYWRlciA9IF9oaWRlTG9hZGVyO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLVxcLy0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyUmVzdWx0cyA9IChyZWNpcGVzLCBwYWdlID0gMSwgcmVzUGVyUGFnZSA9IDEwKSA9PiB7XHJcbiAgY2xlYXJMaXN0KCk7XHJcblxyXG4gIGNvbnN0IHN0YXJ0ID0gKHBhZ2UgLTEpICogcmVzUGVyUGFnZTtcclxuICBjb25zdCBlbmQgPSBwYWdlICogcmVzUGVyUGFnZTtcclxuICByZWNpcGVzLnNsaWNlKHN0YXJ0LCBlbmQpLmZvckVhY2gocmVuZGVyUmVjaXBlKTtcclxuXHJcbiAgaWYocmVjaXBlcy5sZW5ndGggPiByZXNQZXJQYWdlKSByZW5kZXJCdXR0b25zKHBhZ2UsIHJlY2lwZXMsIHJlc1BlclBhZ2UpO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJMaXN0ID0gKCkgPT4ge1xyXG4gIERPTS5yZWNpcGVMaXN0LmlubmVySFRNTCA9ICcnO1xyXG4gIERPTS5yZWNpcGVDb250cm9sLmlubmVySFRNTCA9ICcnO1xyXG59XHJcblxyXG5jb25zdCByZW5kZXJCdXR0b25zID0gKHBhZ2UsIHJlY2lwZXMsIHJlc1BlclBhZ2UpID0+IHtcclxuICBjb25zdCBwYWdlcyA9IE1hdGguY2VpbChyZWNpcGVzLmxlbmd0aC9yZXNQZXJQYWdlKTtcclxuICBjb25zdCBidXR0b25zID0gW107XHJcblxyXG4gIGlmIChwYWdlID09PSAxKSB7XHJcbiAgICBidXR0b25zLnB1c2goY3JlYXRlQnV0dG9uKHBhZ2UgKyAxLCAnbmV4dCcpKTtcclxuICAgIGJ1dHRvbnNbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW5kZXJSZXN1bHRzLmJpbmQodGhpcywgcmVjaXBlcywgcGFnZSArIDEsIHJlc1BlclBhZ2UpKTtcclxuICB9XHJcbiAgZWxzZSBpZiAocGFnZSA9PT0gcGFnZXMpIHtcclxuICAgIGJ1dHRvbnMucHVzaChjcmVhdGVCdXR0b24ocGFnZSAtIDEsICdwcmV2JykpO1xyXG4gICAgYnV0dG9uc1swXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbmRlclJlc3VsdHMuYmluZCh0aGlzLCByZWNpcGVzLCBwYWdlIC0gMSwgcmVzUGVyUGFnZSkpO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGJ1dHRvbnMucHVzaChjcmVhdGVCdXR0b24ocGFnZSArIDEsICduZXh0JykpO1xyXG4gICAgYnV0dG9uc1swXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbmRlclJlc3VsdHMuYmluZCh0aGlzLCByZWNpcGVzLCBwYWdlICsgMSwgcmVzUGVyUGFnZSkpO1xyXG4gICAgYnV0dG9ucy5wdXNoKGNyZWF0ZUJ1dHRvbihwYWdlIC0gMSwgJ3ByZXYnKSk7XHJcbiAgICBidXR0b25zWzFdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVuZGVyUmVzdWx0cy5iaW5kKHRoaXMsIHJlY2lwZXMsIHBhZ2UgLSAxLCByZXNQZXJQYWdlKSk7XHJcbiAgfVxyXG5cclxuICBidXR0b25zLmZvckVhY2goZWxtID0+IHtcclxuICAgIERPTS5yZWNpcGVDb250cm9sLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlZW5kJywgZWxtKTtcclxuICB9KVxyXG59XHJcblxyXG5jb25zdCBjcmVhdGVCdXR0b24gPSAocGFnZSwgdHlwZSkgPT4ge1xyXG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gIGJ1dHRvbi5jbGFzc05hbWUgPSBgYnRuLWlubGluZSByZXN1bHRzX19idG4tLSR7dHlwZX1gO1xyXG4gIGJ1dHRvbi5pbm5lckhUTUwgPSBgXHJcbiAgPHN2ZyBjbGFzcz1cInNlYXJjaF9faWNvblwiPlxyXG4gICAgPHVzZSBocmVmPVwiaW1nL2ljb25zLnN2ZyNpY29uLXRyaWFuZ2xlLSR7dHlwZSA9PT0gJ25leHQnID8gJ3JpZ2h0JyA6ICdsZWZ0J31cIj48L3VzZT5cclxuICA8L3N2Zz5cclxuICA8c3Bhbj5QYWdlICR7cGFnZX08L3NwYW4+XHJcbiAgYDtcclxuICByZXR1cm4gYnV0dG9uO1xyXG59XHJcblxyXG5jb25zdCByZW5kZXJSZWNpcGUgPSByZWNpcGUgPT4ge1xyXG4gIGNvbnN0IG5ld0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gIG5ld0VsZW1lbnQuaW5uZXJIVE1MID0gYFxyXG4gIDxhIGNsYXNzPVwicmVzdWx0c19fbGlua1wiIGhyZWY9XCIke3JlY2lwZS5yZWNpcGVfaWR9XCI+XHJcbiAgICA8ZmlndXJlIGNsYXNzPVwicmVzdWx0c19fZmlnXCI+XHJcbiAgICAgIDxpbWcgc3JjPVwiJHtyZWNpcGUuaW1hZ2VfdXJsfVwiIGFsdD1cIlJlY2lwZSBpbWFnZVwiPlxyXG4gICAgPC9maWd1cmU+XHJcbiAgICA8ZGl2IGNsYXNzPVwicmVzdWx0c19fZGF0YVwiPlxyXG4gICAgICA8aDQgY2xhc3M9XCJyZXN1bHRzX19uYW1lXCI+JHtsaW1pdFJlY2lwZVRpdGxlKHJlY2lwZS50aXRsZSl9PC9oND5cclxuICAgICAgPHAgY2xhc3M9XCJyZXN1bHRzX19hdXRob3JcIj4ke3JlY2lwZS5wdWJsaXNoZXJ9PC9wPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9hPmA7XHJcbiAgRE9NLnJlY2lwZUxpc3QuYXBwZW5kKG5ld0VsZW1lbnQpO1xyXG59O1xyXG5cclxuY29uc3QgbGltaXRSZWNpcGVUaXRsZSA9ICh0aXRsZSwgbGltaXQgPSAxNykgPT4ge1xyXG4gIGxldCBzaG9ydFRpdGxlID0gW107XHJcbiAgaWYgKHRpdGxlLmxlbmd0aCA8PSBsaW1pdCkgcmV0dXJuIHRpdGxlO1xyXG4gIHRpdGxlLnNwbGl0KCcgJykucmVkdWNlKChwcmUsIGN1cikgPT4ge1xyXG4gICAgaWYgKHByZS5sZW5ndGggKyBjdXIubGVuZ3RoIDwgMTcpIHtcclxuICAgICAgc2hvcnRUaXRsZS5wdXNoKGN1cik7XHJcbiAgICAgIHJldHVybiBwcmUgKyBjdXI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJlO1xyXG4gIH0sICcnKTtcclxuICByZXR1cm4gc2hvcnRUaXRsZS5qb2luKCcgJykuY29uY2F0KCcuLi4nKTtcclxufTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0vXFwtLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/view/searchView.js\n");

/***/ })

}]);